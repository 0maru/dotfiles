# Claude Global Instructions

このファイルは、Claude Code が全プロジェクトで共通して参照すべき指示事項を記載しています。

## 言語設定

- **CLAUDE.md の言語**: 日本語で記述すること
- **コメントの言語**: コードコメントは英語、ただし日本語プロジェクトの場合は日本語も可
- **コミットメッセージ**: プロジェクトの慣習に従う（指定がない場合は日本語）

## コーディング規約

### 全般
- 既存のコードスタイルに従う
- 不要なコメントは追加しない
- セキュリティベストプラクティスに従う（シークレットのハードコーディング禁止など）

### ファイル作成
- 新規ファイルの作成は最小限に留める
- 既存ファイルの編集を優先する
- ドキュメント（*.md）は明示的に要求された場合のみ作成

### テスト
- 新機能追加時は対応するテストも作成
- 既存のテストフレームワークとパターンに従う

## プロジェクト分析

CLAUDE.md 作成時は以下の要素を含める：

1. **プロジェクト概要**
   - 簡潔なプロジェクト説明
   - 主要な技術スタック

2. **アーキテクチャ**
   - ディレクトリ構造の説明
   - 主要なデザインパターン
   - 状態管理の方法

3. **開発コマンド**
   - ビルド、テスト、リントコマンド
   - 環境別の実行方法
   - よく使うスクリプト

4. **環境設定**
   - 環境変数
   - 設定ファイルの場所
   - 外部サービスとの連携

## Git 操作

- ブランチ戦略はプロジェクトの慣習に従う
- コミット前に必ずリントとテストを実行
- プルリクエスト作成時は変更内容を明確に記載

## エラーハンドリング

- エラーメッセージは分かりやすく具体的に
- スタックトレースは開発環境でのみ表示
- ユーザー向けメッセージは適切にローカライズ

## パフォーマンス

- 大量データ処理時はページネーションを考慮
- 非同期処理を適切に活用
- キャッシュ戦略を意識

## セキュリティ

- 入力値の検証を徹底
- SQLインジェクション対策
- XSS対策
- CSRF対策（該当する場合）

## プロジェクト固有の指示

各プロジェクトのCLAUDE.mdでは、冒頭に以下を記載：

```markdown
# CLAUDE.md

このファイルは、Claude Code (claude.ai/code) がこのリポジトリのコードを扱う際のガイダンスを提供します。

> 共通指示事項は ~/.claude/CLAUDE.md を参照

## プロジェクト概要
...
```
